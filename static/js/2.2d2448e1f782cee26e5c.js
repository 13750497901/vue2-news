webpackJsonp([2],{515:function(e,t,a){"use strict";function o(e){a(590)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(593),s=a(594),i=a(19),n=o,c=i(r.a,s.a,!1,n,null,null);t.default=c.exports},516:function(e,t,a){"use strict";t.__esModule=!0;var o=a(517),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}},517:function(e,t,a){e.exports={default:a(518),__esModule:!0}},518:function(e,t,a){a(519),e.exports=a(33).Object.assign},519:function(e,t,a){var o=a(53);o(o.S+o.F,"Object",{assign:a(520)})},520:function(e,t,a){"use strict";var o=a(185),r=a(521),s=a(522),i=a(122),n=a(186),c=Object.assign;e.exports=!c||a(121)(function(){var e={},t={},a=Symbol(),o="abcdefghijklmnopqrst";return e[a]=7,o.split("").forEach(function(e){t[e]=e}),7!=c({},e)[a]||Object.keys(c({},t)).join("")!=o})?function(e,t){for(var a=i(e),c=arguments.length,h=1,l=r.f,d=s.f;c>h;)for(var p,m=n(arguments[h++]),u=l?o(m).concat(l(m)):o(m),f=u.length,_=0;f>_;)d.call(m,p=u[_++])&&(a[p]=m[p]);return a}:c},521:function(e,t){t.f=Object.getOwnPropertySymbols},522:function(e,t){t.f={}.propertyIsEnumerable},590:function(e,t,a){var o=a(591);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(511)("3d4f010d",o,!0)},591:function(e,t,a){t=e.exports=a(510)(!1),t.push([e.i,"#search{position:relative;width:100%;height:100%;overflow:hidden;background:#fff}#search a{text-decoration:none}#search .search_top{position:fixed;top:0;left:0;right:0;z-index:999}#search .search_top header{background:#fff;padding-right:.27rem;border-bottom:1px solid #eee;background:#f4f5f6}#search .search_top header .form{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#aaa;font-size:14px;background:#fff;border:1px solid #ddd;border-radius:50px;padding:.13rem .267rem;margin:0 .267rem}#search .search_top header .form .form_input{width:100%;color:#666;padding-left:.13rem;margin:0;-webkit-appearance:none}#search .search_top header .form .form_input::-webkit-input-placeholder{color:#c8c8c9;font-size:12px}#search .search_top header .form .form_input::-moz-placeholder{color:#c8c8c9;font-size:12px}#search .search_top header .form .form_input:-ms-placeholder{color:#c8c8c9;font-size:12px}#search .search_top header .search_btn{color:#aaa;font-size:14px}#search .search_top header .search_btn.on{color:#00939c;font-weight:700}#search .content{background:#fff}#search .content .search_recommend{position:relative;height:100%;overflow-y:auto;-webkit-overflow-scrolling:touch}#search .content .search_recommend .keyword{padding-top:.27rem}#search .content .search_recommend .keyword .keyword_wrap{padding:0 .4rem}#search .content .search_recommend .keyword .keyword_wrap span{display:inline-block;font-size:13px;padding:.13rem .26rem;margin:0 .26rem .26rem 0;color:#403d3c;background:#f4f5f6;border-radius:4px}#search .content .search_recommend .keyword .gray_line{height:.13rem;background:#f4f5f6}#search .content .search_recommend .article{padding:.27rem .4rem 0}#search .content .search_recommend .article h3{font-size:15px;color:#403d3c;margin-bottom:5px}#search .content .search_recommend .article h3 .hot_icon{display:inline-block;vertical-align:middle;width:24px;height:24px;background:url("+a(592)+') no-repeat 50%;background-size:24px;margin-right:.13rem}#search .content .search_recommend .article h3 span{display:inline-block;vertical-align:middle;margin-top:2px}#search .content .search_recommend .article ul{position:relative;height:100%}#search .content .search_recommend .article ul li{font-size:14px;color:#717071;border-bottom:1px solid #eee}#search .content .search_recommend .article ul li a{display:block;width:100%;padding:.27rem 0;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;text-align:justify}#search .content .search_recommend .article ul li span{margin-right:.24rem}#search .content .search_recommend .article ul li span.hot{color:#00939c}#search .content .search_result-empty{position:absolute;width:100%;height:150px;top:40%;margin-top:-75px;padding:70px 0 0;background:url("http://s3.pstatp.com/image/toutiao_mobile/noresuiticon_seach.png") no-repeat top;background-size:68px;text-align:center;color:#cacaca;font-size:16px}',""])},592:function(e,t,a){e.exports=a.p+"static/img/hot.7423050.png"},593:function(e,t,a){"use strict";(function(e){var o=a(187),r=a.n(o),s=a(516),i=a.n(s),n=a(184);t.a={data:function(){return{key:"",page:1,search_state:"recommend",searchJson:[],hotJson:[],keyWords:null,history:{},bottomLock:!1,bottomStatus:"loading",bottomTip:!1,loading:!1,error:!1}},watch:{$route:function(e,t){t.path.includes("index")&&(this.key="",this.search_state="recommend")},key:function(e){e||(this.search_state="recommend")}},methods:i()({},Object(n.b)("search",["get_hot_data","get_search_data"]),{get_hot:function(){var e=this;this.loading=!0,this.get_hot_data().then(function(t){t.data&&(e.hotJson=t.data),t.keyword&&(e.keyWords=t.keyword),e.loading=!1}).catch(function(t){console.log(t),e.loading=!1})},get_search:function(){var t=this;this.key&&(this.error=!1,this.loading=!0,this.search_state="search",e("#search .container").scrollTop(0),this.$router.replace("/search?key="+this.key),this.get_search_data({key:this.key,page:1}).then(function(e){e.data?(t.searchJson=e.data,t.page=2,t.handleLocaltion("get")):(t.searchJson=[],t.search_state="empty"),t.loading=!1}).catch(function(e){console.log(e),t.search_state="empty",t.loading=!1,t.error=!0}))},get_search_more:function(){var e=this;"noData"!==this.bottomStatus&&(this.bottomLock=!0,this.get_search_data({key:this.key,page:this.page}).then(function(t){if(t.data){var a;(a=e.searchJson).push.apply(a,r()(t.data)),e.page++}else e.bottomStatus="noData";e.bottomLock=!1}))},bottomVisible:function(){var t=this;this.$nextTick(function(){e("#search .listItem").height()>=e("#search .container").height()&&(t.bottomTip=!0)})},handleLocaltion:function(t){var a=this;"get"===t?this.$nextTick(function(){a.bottomVisible(),a.history&&a.history[a.key]&&e("#search .container").scrollTop(a.history[a.key].location)}):"set"===t&&this.key&&(this.history[this.key]={location:e("#search .container").scrollTop(),data:this.searchJson})}}),mounted:function(){this.get_hot()},activated:function(){this.$route.query.key&&(this.key=this.$route.query.key,this.history[this.key]&&this.history[this.key].data?(this.searchJson=this.history[this.key].data,this.search_state="search",this.handleLocaltion("get")):this.get_search())},deactivated:function(){this.handleLocaltion("set")}}}).call(t,a(83))},594:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"search"}},[a("div",{staticClass:"search_top"},[a("my-header",{staticClass:"header"},[a("a",{staticClass:"back-black",attrs:{slot:"left"},on:{click:function(t){t.stopPropagation(),e.$router.go(-1)}},slot:"left"}),e._v(" "),a("form",{staticClass:"form",attrs:{slot:"mid"},on:{submit:function(t){t.preventDefault(),e.get_search(t)}},slot:"mid"},[a("i",{staticClass:"form_icon icon-search"}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.key,expression:"key",modifiers:{trim:!0}}],staticClass:"form_input",attrs:{type:"search",placeholder:"搜头条，知健康"},domProps:{value:e.key},on:{input:function(t){t.target.composing||(e.key=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("a",{staticClass:"search_btn",class:e.key?"on":"",attrs:{slot:"right"},on:{click:function(t){t.stopPropagation(),e.get_search(t)}},slot:"right"},[e._v("搜索")])])],1),e._v(" "),a("div",{directives:[{name:"swiper",rawName:"v-swiper:swiperRight",value:!0,expression:"true",arg:"swiperRight"}],staticClass:"content"},["recommend"===e.search_state?[a("div",{staticClass:"search_recommend"},[e.keyWords?a("div",{staticClass:"keyword"},[a("div",{staticClass:"keyword_wrap"},e._l(e.keyWords,function(t,o){return a("span",{key:o,on:{click:function(a){a.stopPropagation(),e.$router.replace("/search?key="+t)}}},[e._v(e._s(t))])})),e._v(" "),a("div",{staticClass:"gray_line"})]):e._e(),e._v(" "),a("div",{staticClass:"article"},[e._m(0),e._v(" "),e.hotJson.length>0?a("ul",e._l(e.hotJson,function(t,o){return a("li",{key:o},[a("router-link",{attrs:{to:"/detail?classid="+t.classid+"&id="+t.id+"&datafrom="+t.datafrom}},[a("span",{class:o+1>0&&o+1<4?"hot":""},[e._v(e._s(o+1)+".")]),e._v("\n                                "+e._s(t.title)+"\n                            ")])],1)})):e._e()])])]:e._e(),e._v(" "),"search"===e.search_state?[a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.get_search_more,expression:"get_search_more"}],staticClass:"container",attrs:{"infinite-scroll-disabled":"bottomLock","infinite-scroll-distance":"10","infinite-scroll-immediate-check":"false"}},[e.searchJson.length>0?a("list-item",{attrs:{itemJson:e.searchJson}}):e._e(),e._v(" "),e.bottomTip?a("div",{staticClass:"bottomLoad"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"loading"===e.bottomStatus,expression:"bottomStatus === 'loading'"}],staticClass:"loading"},[e._v("加载中...")]),e._v(" "),"noData"===e.bottomStatus?a("div",{staticClass:"noData"},[e._v("没有更多的内容了")]):e._e()]):e._e()],1)]:e._e(),e._v(" "),"empty"==e.search_state&&0===e.searchJson.length?[e._m(1)]:e._e()],2),e._v(" "),a("my-loading",{attrs:{visible:e.loading}}),e._v(" "),a("my-error",{attrs:{fixed:"",visible:e.error,method:e.get_search}})],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"hot_icon"}),e._v(" "),a("span",[e._v("今日热点")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search_result-empty"},[a("p",[e._v("这个宇宙中搜寻不到")]),e._v(" "),a("p",[e._v("换个词试试")])])}],s={render:o,staticRenderFns:r};t.a=s}});